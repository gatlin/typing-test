!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,r){"use strict";function n(e){var t=Object.keys(e);return function(r,n){for(var o=!1,i={},a=0;a<t.length;a++){var s=t[a],u=e[s],c=r[s],l=u(c,n);i[s]=l,o=o||l!==c}return o?i:r}}function o(e,t){void 0===t&&(t={});for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return function(n){t=null===t?{}:t;var o={};t.on&&(o=t.on,delete t.on),t.className&&(t.class=t.className,delete t.className),t.ref&&(o.ref=t.ref,delete t.ref),r=Array.isArray(r)&&Array.isArray(r[0])?r[0]:r;var i=r?r.filter(function(e){return void 0!==e}).map(function(e,t){return e?"string"==typeof e?new s.VDom(e,[],s.VDomType.Text):e(n):null}).filter(function(e){return null!==e}):[],u=function(e){n.handle(e,o)};return"string"==typeof e?new s.VDom({tag:e,attrs:t},i,s.VDomType.Node,u):e(a({},t,{children:i}))(n)}}function i(e,t){return void 0===e&&(e=null),void 0===t&&(t=null),function(r){return function(n){return void 0===n&&(n={}),function(o){var i=o.store,s=i.getState(),u=e?e(s):{},c=t?t(i.dispatch.bind(i)):{},l=a({},n,u,c);return r(l)(o)}}}}var a=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=r(3);t.makeReducer=n;var u=function(){function e(e,t){this.state=e,this.reducer=t,this.subscribers=[]}return e.prototype.dispatch=function(e){return this.state=this.reducer(this.state,"function"==typeof e?e(this.dispatch.bind(this),this.getState.bind(this)):e),this.subscribers.forEach(function(e){e()}),this},e.prototype.subscribe=function(e){var t=this;return this.subscribers.push(e),function(){var r=t.subscribers.indexOf(e);t.subscribers.splice(r,1)}},e.prototype.getState=function(){return Object.seal(this.state)},e}();t.Store=u,t.el=o;var c=function(){function e(e){this.raw=e,this.classes=e.target.className.trim().split(/\s+/g)||[],this.id=e.target.id||"",this.value=e.target.value}return e.prototype.hasClass=function(e){return-1!==this.classes.indexOf(e)},e.prototype.getClasses=function(){return this.classes},e.prototype.getId=function(){return this.id},e.prototype.getValue=function(){return this.value},e.prototype.getRaw=function(){return this.raw},e.prototype.class_in_ancestry=function(e){for(var t=null,r=!1,n=this.raw.target;!r;){if(!n.className){r=!0;break}-1!==(n.className.trim().split(/\s+/g)||[]).indexOf(e)?(t=n,r=!0):n.parentNode?n=n.parentNode:r=!0}return t},e}();t.AlmEvent=c;var l=function(){function e(e){this.gensymnumber=0,this.store=new u(e.model,e.update),this.eventRoot="string"==typeof e.eventRoot?document.getElementById(e.eventRoot):void 0===e.eventRoot?document:e.eventRoot,this.domRoot="string"==typeof e.domRoot?document.getElementById(e.domRoot):e.domRoot,this.view=e.view,this.events={}}return e.prototype.start=function(){var e=this;this.events={};var t=this.store,r=function(t,r){window.setTimeout(function(){var n;t.hasAttribute("data-alm-id")?n=t.getAttribute("data-alm-id"):(n=e.gensym(),t.setAttribute("data-alm-id",n)),r.ref&&(r.ref(t),delete r.ref);for(var o in r)o in e.events||(e.events[o]={},e.registerEvent(o,e.handleEvent)),e.events[o][n]=r[o];return function(){for(var t in r)delete e.events[t][n]}},0)},n={store:t,handle:r},o=this.view(n);s.initialDOM(this.domRoot,o),this.store.subscribe(function(){var t=e.view(n);s.diff_dom(e.domRoot,o,t),o=t})},e.prototype.handleEvent=function(e){var t=e.type;if(this.events[t]&&e.target.hasAttribute("data-alm-id")){var r=e.target.getAttribute("data-alm-id");this.events[t][r]&&this.events[t][r](new c(e))}},e.prototype.gensym=function(){return"node-"+(this.gensymnumber++).toString()},e.prototype.registerEvent=function(e,t){this.eventRoot.addEventListener(e,t.bind(this),!0)},e}();t.Alm=l,t.connect=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n;!function(e){e[e.Init=0]="Init",e[e.GoBack=1]="GoBack",e[e.NextWord=2]="NextWord",e[e.KeyPress=3]="KeyPress",e[e.Stop=4]="Stop"}(n=t.Actions||(t.Actions={})),t.initialize=function(e){return{type:n.Init,data:e}},t.keyPress=function(e){return{type:n.KeyPress,data:e}},t.goBack=function(){return{type:n.GoBack}},t.nextWord=function(){return{type:n.NextWord}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(4),i=r(1),a=r(5),s=r(11),u=new n.Alm({model:o.initialState,update:s.default,view:a.default(),domRoot:"main",eventRoot:"main"});u.store.subscribe(function(){u.store.getState().do_set_timer&&window.setTimeout(function(){u.store.dispatch({type:i.Actions.Stop})},6e4)}),document.title="Typing Test",u.start()},function(e,t,r){"use strict";function n(e){if(null===e)return null;if(e.treeType===s.Text)return document.createTextNode(e.content);var t=document.createElement(e.content.tag);for(var r in e.content.attrs)null!==e.content.attrs[r]&&t.setAttribute(r,e.content.attrs[r]);for(var o=0;o<e.children.length;o++){var i=n(e.children[o]);t.appendChild(i)}return e.onDestroy=e.onCreate(t),t}function o(e,t){for(var r=e,o=n(t);r.firstChild;)r.removeChild(r.firstChild);r.appendChild(o)}function i(e,t,r){if(!e.length)return t.map(function(e){return[c.Insert,null,e]});if(!t.length)return e.map(function(e){return[c.Delete,e,null]});for(var n=e.length+1,o=t.length+1,i=new Array(n*o),a=[],s=0;s<n;s++)i[s*o]=s;for(var u=0;u<o;u++)i[u]=u;for(var l=1;l<o;l++)for(var d=1;d<n;d++)r(e[d-1],t[l-1])?i[d*o+l]=i[(d-1)*o+(l-1)]:i[d*o+l]=Math.min(i[(d-1)*o+l],i[d*o+(l-1)])+1;for(var f=n-1,h=o-1;0!==f||0!==h;)r(e[f-1],t[h-1])?(f--,h--,a.unshift([c.Merge,e[f],t[h]])):i[f*o+(h-1)]<=i[(f-1)*o+h]?(h--,a.unshift([c.Insert,null,t[h]])):(f--,a.unshift([c.Delete,e[f],null]));return a}function a(e,t,r,o){if(void 0===o&&(o=0),void 0===r||null===r)return e.childNodes[o].onDestroy&&e.childNodes[o].onDestroy(),void e.removeChild(e.childNodes[o]);if(void 0===t||null===t)return void e.insertBefore(n(r),e.childNodes[o]);if(r.treeType===s.Node){if(t.treeType===s.Node&&t.content.tag===r.content.tag){var u=e.childNodes[o];for(var l in t.content.attrs)l in r.content.attrs||(u.removeAttribute(l),delete u[l]);for(var l in r.content.attrs){var d=r.content.attrs[l];l in t.content.attrs&&d===t.content.attrs[l]||(u[l]=d,u.setAttribute(l,d))}window.setTimeout(function(){u.hasAttribute("value")&&(u.value=u.getAttribute("value"))},0);for(var f=i(t.children,r.children,function(e,t){return void 0!==e&&e.eq(t)}),h=0,p=0;p<f.length;p++){var v=f[p];a(e.childNodes[o],v[1],v[2],h),v[0]!==c.Delete&&h++}}}else e.childNodes[o].onDestroy&&e.childNodes[o].onDestroy(),e.replaceChild(n(r),e.childNodes[o])}Object.defineProperty(t,"__esModule",{value:!0});var s;!function(e){e[e.Text=0]="Text",e[e.Node=1]="Node"}(s=t.VDomType||(t.VDomType={}));var u=function(){function e(e,t,r,n){void 0===n&&(n=null),this.content=e,this.children=t,this.treeType=r,this.onCreate=n,this.onDestroy=null,r===s.Node?"key"in this.content.attrs?(this.key=this.content.attrs.key,delete this.content.attrs.key):"id"in this.content.attrs?this.key=this.content.attrs.id:this.key=this.content.tag:this.key="text-node"}return e.prototype.setChildren=function(e){return this.children=e,this},e.prototype.eq=function(e){return!!e&&this.key===e.key},e}();t.VDom=u,t.initialDOM=o;var c;!function(e){e[e.Merge=0]="Merge",e[e.Delete=1]="Delete",e[e.Insert=2]="Insert"}(c||(c={})),t.diff_array=i,t.diff_dom=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState={initialized:!1,typed_so_far:"",lines:[],current_word:0,current_line:0,words_box_width:0,char_width:0,words_typed:0,active:!1,finished:!1,cpm:0,num_words_incorrect:0,do_set_timer:!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(1),i=r(6),a=n.connect(function(e){return{lines:e.lines}},function(e){return{initialize:function(t){return e(o.initialize(t))}}})(i.default);t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(7),i=r(9),a=function(e){return n.el("section",{id:"typing-app",className:"app"},n.el("div",{id:"words-box-outer",ref:function(t){e.initialize(t.offsetWidth)}},n.el(i.default,{lines:e.lines})),n.el(o.default,null))};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(1),i=r(8),a=n.connect(function(e){return{cpm:e.cpm,num_words_incorrect:e.num_words_incorrect,finished:e.finished,active:e.active,typed_so_far:e.typed_so_far}},function(e){return{keyPress:function(t){return e(o.keyPress(t))},goBack:function(){return e(o.goBack())},nextWord:function(){return e(o.nextWord())}}})(i.default);t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=function(e){return n.el("div",null,n.el("input",{type:"text",id:"typing-input",key:null,autoFocus:!0,on:{keypress:function(t){var r=t.getRaw(),n=r.keyCode,o=r.charCode;8===n?e.goBack():0===n&&32===o?e.nextWord():0!==o&&e.keyPress({charCode:o})}},value:e.typed_so_far}),n.el("div",{key:"huh",id:"some-text",className:e.active?"begun":""},n.el("p",null,"Just start typing to begin! You have 1 minute.")))},i=function(e){return n.el("div",{className:"fade-in"},n.el("h2",{id:"score"},"You typed ",e.cpm.toString()," characters per minute!"),e.num_words_incorrect>0?n.el("p",null,"The number would have been higher but you got ",e.num_words_incorrect.toString()," words wrong."):null,n.el("p",null,"Refresh to try again. Maybe take a 2 minute break."))},a=function(e){var t=e.finished?i(e):o(e);return n.el("div",{id:"below-box"},t,n.el("p",null," Made by ",n.el("a",{href:"http://niltag.net"},"Gatlin")," (",n.el("a",{href:"https://github.com/gatlin/typing-test"},"source code"),")."))};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(10),i=n.connect(function(e){return{lines:e.lines,current_word:e.current_word,current_line:e.current_line,typed_so_far:e.typed_so_far}},function(e){return{}})(o.default);t.default=i},function(e,t,r){"use strict";function n(e){var t=e.line_idx,r=e.word_idx,n=e.current_word;return(0===e.current_line?0===t:1===t)&&r===n}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=function(e){var t=e.word,r=t.expected,i=t.actual,a=t.incorrect,s="word",u="",c="",l="";if(a&&(s+=" incorrect"),n(e)){u="bolded",s+=" current-word";var d=i.length;c=r.slice(0,d),l=r.slice(d)}else l=r;return o.el("span",{id:"word-"+r,className:s},o.el("span",{className:u},c),o.el("span",null,l))},a=function(e){var t=(e.lines,e.current_word),r=e.current_line,n=e.words,a=e.line_idx,s=e.typed_so_far;return o.el("div",{className:"line",key:a},n.map(function(e,n){return i({word:e,line_idx:a,word_idx:n,current_word:t,current_line:r,typed_so_far:s})}))},s=function(e){var t=e.lines,r=e.current_word,n=e.current_line,i=e.typed_so_far,s=0===n?0:n-1,u=s+3;return o.el("div",{id:"words-box"},t.slice(s,u).map(function(e,o){return a({lines:t,current_word:r,current_line:n,words:e,line_idx:o,typed_so_far:i})}))};t.default=s},function(e,t,r){"use strict";function n(e){return e.reduce(function(e,t){return e.concat(t)},[])}function o(e,t){void 0===t&&(t=20);for(var r=[],n=0,o=!1;!o;){var i=s.random_word();if((n+=i.length*t+t)>=e){o=!0;break}r.push({expected:i,actual:"",incorrect:!1})}return r}var i=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),s=r(12),u=function(e,t){var r=e.initialized,s=e.typed_so_far,u=e.lines,c=e.current_word,l=e.current_line,d=e.words_box_width,f=e.char_width,h=e.words_typed,p=e.active,v=e.finished,y=e.cpm,m=e.num_words_incorrect,g=e.do_set_timer;switch(t.type){case a.Actions.Init:if(r)return e;d=t.data,u=[];for(var w=0;w<3;w++){var _=o(d);u.push(_)}r=!0;break;case a.Actions.GoBack:if(p=!v,""===s&&h>0){if(c--,h--,c<0&&l>0){l--;var _=u[l];c=_.length-1}s=u[l][c].actual}else{s=s.substring(0,s.length-1);var b=u[l][c];b.actual=s.replace(/\s+/g,""),u[l][c]=b}break;case a.Actions.NextWord:p=!v;var b=u[l][c];b.actual=s.replace(/\s+/g,""),b.expected!==b.actual?(m++,b.incorrect=!0):(b.incorrect&&m--,b.incorrect=!1),u[l][c]=b,c++,c>=u[l].length&&(u.push(o(d)),c=0,l++),s="",h++;break;case a.Actions.KeyPress:var k=t.data.charCode;p=!0,s+=String.fromCharCode(k);var b=u[l][c];b.actual=s.replace(/\s+/g,""),u[l][c]=b;break;case a.Actions.Stop:if(v=!0,p){p=!1;var x=n(u).slice(0,h).filter(function(e){return!e.incorrect});y=0;for(var w=0;w<x.length;w++)y+=x[w].expected.length;y+=x.length}break;default:return i({},e)}return g=r&&!e.active&&p,i({},e,{initialized:r,typed_so_far:s,lines:u,current_word:c,current_line:l,words_box_width:d,char_width:f,words_typed:h,active:p,finished:v,cpm:y,num_words_incorrect:m,do_set_timer:g})};t.default=u},function(e,t,r){"use strict";function n(){return t.source_words[Math.floor(Math.random()*t.source_words.length)]}Object.defineProperty(t,"__esModule",{value:!0}),t.source_words="the name of very to through and just form in much is great it think you say that help he low was line for before on turn are cause with same as mean differ his move they right be boy at old one too have does this tell from sentence or set had three by want hot air but well some also what play there small we end can put out home other read were hand all port your large when spell up add use even word land how here said must an big each high she such which follow do act their why time ask if men will change way went about light many kind then off them need would house write picture like try so us these again her animal long point make mother thing world see near him build two self has earth look father more head day stand could own go page come should did country my found sound answer no school most grow number study who still over learn know plant water cover than food call sun first four people thought may let down keep side eye been never now last find door any between new city work tree part cross take since get hard place start made might live story where saw after far back sea little draw only left round late man run year don't came while show press every close good night me real give life our few under stop open ten seem simple together several next vowel white toward children war begin lay got against walk pattern example slow ease center paper love often person always money music serve those appear both road mark map book science letter rule until govern mile pull river cold car notice feet voice care fall second power group town carry fine took certain rain fly eat unit room lead friend cry began dark idea machine fish note mountain wait north plan once figure base star hear box horse noun cut field sure rest watch correct color able face pound wood done main beauty enough drive plain stood girl contain usual front young teach ready week above final ever gave red green list oh though quick feel develop talk sleep bird warm soon free body minute dog strong family special direct mind pose behind leave clear song tail measure produce state fact product street black inch short lot numeral nothing class course wind stay question wheel happen full complete force ship blue area object half decide rock surface order deep fire moon south island problem foot piece yet told busy knew test pass record farm boat top common whole gold king possible size plane heard age best dry hour wonder better laugh true thousand during ago hundred ran am check remember game step shape early yes hold hot west miss ground brought interest heat reach snow fast bed five bring sing sit listen perhaps six fill table east travel weight less language morning among speed typing mineral seven eight nine everything something standard distant paint".split(" "),t.random_word=n}]);